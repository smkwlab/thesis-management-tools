#!/bin/bash
#
# 互換性維持用ラッパースクリプト
# thesis-student-registry/thesis_monitor への転送
#

REGISTRY_DIR="../thesis-student-registry"
MONITOR_BIN="$REGISTRY_DIR/thesis_monitor/thesis_monitor"

if [ ! -f "$MONITOR_BIN" ]; then
    echo "Error: thesis_monitor not found at $MONITOR_BIN"
    echo "Please build it first:"
    echo "  cd $REGISTRY_DIR/thesis_monitor"
    echo "  make build"
    exit 1
fi

# 実行権限確認
if [ ! -x "$MONITOR_BIN" ]; then
    chmod +x "$MONITOR_BIN"
fi

# thesis_monitorに転送
exec "$MONITOR_BIN" "$@"